<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grow BPO Financeiro | Apresenta√ß√£o Interativa</title>
    
    <!-- Configura√ß√£o do Tailwind CSS com Cores e Fonte da Marca Grow -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        // Cores da Marca Grow BPO (Baseado no PDF)
                        'grow-light': '#22ADE4', // Azul Prim√°rio de Destaque
                        'grow-dark': '#212752',  // Azul Marinho / Fundo Escuro
                        'grow-text': '#1F2937',  // Texto Principal (Quase Preto, para legibilidade)
                    },
                    fontFamily: {
                        // Usando Poppins como alternativa moderna e geom√©trica √† "Nourd"
                        sans: ['Poppins', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- FONTE ATUALIZADA: Poppins (alternativa a Nourd) -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <style>
        /* Aplicando 'Poppins' em todo o corpo do documento */
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #FDFBF7; /* Mantendo um fundo claro para contraste */
            color: #1F2937;
        }
        
        /* Chart Container Styling - Strictly adhering to constraints */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px; /* Max width constraint */
            margin-left: auto;
            margin-right: auto;
            height: 300px; /* Base height */
            max-height: 400px;
        }
        
        @media (min-width: 768px) {
            .chart-container {
                height: 350px; /* Tablet/Desktop height */
            }
        }

        /* Cores das Abas baseadas na identidade visual */
        .active-tab {
            border-bottom: 3px solid var(--tw-colors-grow-light); /* Azul prim√°rio */
            color: var(--tw-colors-grow-light);
            font-weight: 700;
        }

        .inactive-tab {
            border-bottom: 3px solid transparent;
            color: #6B7280;
        }
        .inactive-tab:hover {
            color: var(--tw-colors-grow-dark);
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="antialiased min-h-screen flex flex-col">

    <!-- Header -->
    <header class="bg-white shadow-sm sticky top-0 z-50">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
            <!-- REMOVIDA A LOGO SVG - MANTENDO APENAS O NOME -->
            <div class="flex items-center gap-2">
                <h1 class="text-xl font-bold tracking-tight text-grow-dark">Grow BPO <span class="text-grow-light font-medium">Financeiro</span></h1>
            </div>
            <button onclick="scrollToCTA()" class="bg-grow-dark text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-800 transition-colors">
                Agendar Bate-papo
            </button>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8 w-full">

        <!-- Hero: The Context -->
        <section class="mb-12 text-center max-w-3xl mx-auto">
            <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4">
                Foque na opera√ß√£o, enquanto cuidamos do seu financeiro.
            </h2>
            <p class="text-lg text-gray-600 leading-relaxed mb-6">
                Para donos de restaurantes que perdem horas preciosas pagando contas e s√≥ descobrem o preju√≠zo no final do m√™s. 
                A <strong>Grow BPO</strong> transforma sua gest√£o financeira para voc√™ focar no que importa: o cliente e o produto.
            </p>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-left mt-8">
                <div class="bg-white p-4 rounded-xl shadow-lg border-t-4 border-grow-light/50">
                    <div class="text-2xl mb-2 text-grow-dark">üò∞</div>
                    <h3 class="font-bold text-gray-900">O Problema</h3>
                    <p class="text-sm text-gray-500 mt-1">Gest√£o na correria, contas atrasadas e cegueira financeira.</p>
                </div>
                <div class="bg-white p-4 rounded-xl shadow-lg border-t-4 border-grow-light">
                    <div class="text-2xl mb-2 text-grow-light">üéØ</div>
                    <h3 class="font-bold text-gray-900">A Solu√ß√£o Grow</h3>
                    <p class="text-sm text-gray-500 mt-1">BPO especializado em restaurantes com metodologia di√°ria.</p>
                </div>
                <div class="bg-white p-4 rounded-xl shadow-lg border-t-4 border-grow-dark/50">
                    <div class="text-2xl mb-2 text-grow-dark">üöÄ</div>
                    <h3 class="font-bold text-gray-900">O Resultado</h3>
                    <p class="text-sm text-gray-500 mt-1">Lucratividade real e tempo livre para opera√ß√£o.</p>
                </div>
            </div>
        </section>

        <!-- Interactive Core: The 3 Pillars -->
        <section class="bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden mb-12">
            <!-- Tabs Navigation -->
            <div class="flex border-b border-gray-200 overflow-x-auto">
                <button onclick="switchTab('daily')" id="tab-daily" class="flex-1 py-4 px-6 text-center text-sm md:text-base font-medium active-tab transition-colors focus:outline-none whitespace-nowrap">
                    1. Facilidade Di√°ria
                </button>
                <button onclick="switchTab('weekly')" id="tab-weekly" class="flex-1 py-4 px-6 text-center text-sm md:text-base font-medium inactive-tab transition-colors focus:outline-none whitespace-nowrap">
                    2. Controle Semanal (CMV)
                </button>
                <button onclick="switchTab('monthly')" id="tab-monthly" class="flex-1 py-4 px-6 text-center text-sm md:text-base font-medium inactive-tab transition-colors focus:outline-none whitespace-nowrap">
                    3. Estrat√©gia Mensal (DRE)
                </button>
            </div>

            <!-- Content Area -->
            <div class="p-6 md:p-8 min-h-[500px]">
                
                <!-- DAILY VIEW -->
                <div id="content-daily" class="fade-in block">
                    <div class="grid md:grid-cols-2 gap-8 items-center">
                        <div>
                            <span class="inline-block px-3 py-1 bg-grow-light/20 text-grow-dark rounded-full text-xs font-semibold tracking-wide uppercase mb-3">Contas a Pagar Di√°rio</span>
                            <h3 class="text-2xl font-bold text-gray-900 mb-4">Fim do estresse com boletos e bancos.</h3>
                            <p class="text-gray-600 mb-4">
                                Delegue a execu√ß√£o e o acompanhamento das obriga√ß√µes financeiras. N√≥s garantimos organiza√ß√£o e rastreabilidade total.
                            </p>
                            <ul class="space-y-3 mb-6">
                                <li class="flex items-start">
                                    <span class="text-grow-light mr-2">‚úì</span>
                                    <span class="text-sm text-gray-700">Zero multas por atraso.</span>
                                </li>
                                <li class="flex items-start">
                                    <span class="text-grow-light mr-2">‚úì</span>
                                    <span class="text-sm text-gray-700">Concilia√ß√£o banc√°ria perfeita.</span>
                                </li>
                                <li class="flex items-start">
                                    <span class="text-grow-light mr-2">‚úì</span>
                                    <span class="text-sm text-gray-700">Sua mente livre para a cozinha e o sal√£o.</span>
                                </li>
                            </ul>
                            <div class="p-4 bg-gray-50 rounded-lg border-l-4 border-grow-light">
                                <p class="italic text-sm text-gray-600">"Libere seu tempo da rotina burocr√°tica."</p>
                            </div>
                        </div>
                        <div class="flex flex-col items-center">
                            <h4 class="text-sm font-semibold text-gray-500 mb-2 uppercase tracking-wider text-center">Impacto na Carga de Trabalho (Horas/Semana)</h4>
                            <!-- Chart Container -->
                            <div class="chart-container">
                                <canvas id="dailyChart"></canvas>
                            </div>
                            <p class="text-xs text-center text-gray-400 mt-2">Dados ilustrativos comparando gest√£o manual vs. Grow BPO.</p>
                        </div>
                    </div>
                </div>

                <!-- WEEKLY VIEW -->
                <div id="content-weekly" class="hidden fade-in">
                    <div class="grid md:grid-cols-2 gap-8 items-start">
                        <div>
                            <span class="inline-block px-3 py-1 bg-grow-light/20 text-grow-dark rounded-full text-xs font-semibold tracking-wide uppercase mb-3">CMV Semanal</span>
                            <h3 class="text-2xl font-bold text-gray-900 mb-4">Corrija a rota antes de bater o carro.</h3>
                            <p class="text-gray-600 mb-4">
                                O Custo de Mercadoria Vendida (CMV) √© vital. A maioria descobre o preju√≠zo no dia 30. Com a Grow, analisamos <strong>semanalmente</strong>.
                            </p>
                            <div class="space-y-4 mb-6">
                                <div class="bg-white border border-gray-200 p-3 rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-default">
                                    <h5 class="font-bold text-gray-800 text-sm">üìÖ Semana 1-2: Identifica√ß√£o</h5>
                                    <p class="text-xs text-gray-500">Detectamos compras caras ou desperd√≠cio imediatamente.</p>
                                </div>
                                <div class="bg-grow-light/10 border border-grow-light/50 p-3 rounded-lg shadow-sm">
                                    <h5 class="font-bold text-grow-dark text-sm">üõ†Ô∏è Semana 3: A√ß√£o Proativa</h5>
                                    <p class="text-xs text-gray-700">Voc√™ ajusta o porcionamento ou negocia compras, salvando a margem do m√™s.</p>
                                </div>
                            </div>

                            <!-- LLM FEATURE: Corrective Action Generator -->
                            <div class="mt-8 pt-6 border-t border-gray-200">
                                <h4 class="text-lg font-bold text-gray-900 mb-3">Simulador de A√ß√£o ‚ú®</h4>
                                <p class="text-sm text-gray-600 mb-4">
                                    Veja o tipo de *insight* que entregamos. Simule uma situa√ß√£o de CMV muito alto (40%) e receba um plano de 3 a√ß√µes corretivas imediatas.
                                </p>
                                <button id="generateActionBtn" onclick="generateCorrectiveActions()" class="w-full bg-grow-light hover:bg-grow-dark/80 text-white font-bold py-3 px-4 rounded-lg transition-colors shadow-md">
                                    Gerar A√ß√µes Corretivas para CMV Alto (40%) ‚ú®
                                </button>
                                <div id="actionResults" class="mt-4 p-4 bg-gray-50 border border-gray-200 rounded-lg min-h-[100px] flex items-center justify-center text-center text-gray-500 text-sm italic">
                                    Clique no bot√£o acima para simular a an√°lise da Grow.
                                </div>
                            </div>
                        </div>
                        <div class="flex flex-col items-center">
                            <h4 class="text-sm font-semibold text-gray-500 mb-2 uppercase tracking-wider text-center">Simula√ß√£o de Perda Acumulada (M√™s)</h4>
                            <!-- Chart Container -->
                            <div class="chart-container">
                                <canvas id="weeklyChart"></canvas>
                            </div>
                            <div class="mt-4 text-center">
                                <button onclick="updateWeeklyChart()" class="text-xs bg-grow-light/20 hover:bg-grow-light/40 text-grow-dark px-3 py-1 rounded transition-colors">
                                    Ver Curva de Corre√ß√£o
                                </button>
                                <p class="text-xs text-gray-400 mt-1">Veja como a a√ß√£o semanal achata a curva de perda.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- MONTHLY VIEW -->
                <div id="content-monthly" class="hidden fade-in">
                    <div class="grid md:grid-cols-2 gap-8 items-center">
                        <div>
                            <span class="inline-block px-3 py-1 bg-grow-dark/10 text-grow-dark rounded-full text-xs font-semibold tracking-wide uppercase mb-3">DRE Mensal Detalhada</span>
                            <h3 class="text-2xl font-bold text-gray-900 mb-4">Vis√£o estrat√©gica, n√£o apenas cont√°bil.</h3>
                            <p class="text-gray-600 mb-4">
                                Entregamos uma Demonstra√ß√£o do Resultado do Exerc√≠cio (DRE) espec√≠fica para Food Service. Entenda onde cada centavo foi parar.
                            </p>
                            <p class="text-sm text-gray-500 mb-6">
                                Com esses dados, voc√™ toma decis√µes reais sobre:
                            </p>
                            <div class="grid grid-cols-2 gap-2 mb-4">
                                <div class="flex items-center text-sm text-gray-700 bg-gray-50 p-2 rounded">
                                    <span class="mr-2 text-grow-light">üè∑Ô∏è</span> Pre√ßos do Menu
                                </div>
                                <div class="flex items-center text-sm text-gray-700 bg-gray-50 p-2 rounded">
                                    <span class="mr-2 text-grow-light">ü§ù</span> Fornecedores
                                </div>
                                <div class="flex items-center text-sm text-gray-700 bg-gray-50 p-2 rounded">
                                    <span class="mr-2 text-grow-light">üë•</span> Equipe
                                </div>
                                <div class="flex items-center text-sm text-gray-700 bg-gray-50 p-2 rounded">
                                    <span class="mr-2 text-grow-light">üí∞</span> Margem Real
                                </div>
                            </div>
                        </div>
                        <div class="flex flex-col items-center">
                            <h4 class="text-sm font-semibold text-gray-500 mb-2 uppercase tracking-wider text-center">Composi√ß√£o da Receita (Exemplo)</h4>
                            <!-- Chart Container -->
                            <div class="chart-container">
                                <canvas id="monthlyChart"></canvas>
                            </div>
                            <p id="dre-detail" class="text-sm text-center font-medium text-grow-dark mt-2 h-6">
                                Clique no gr√°fico para ver detalhes.
                            </p>
                        </div>
                    </div>
                </div>

            </div>
        </section>

        <!-- Summary Table (The Value of Grow) -->
        <section class="mb-16">
            <h2 class="text-2xl font-bold text-gray-900 mb-6 text-center">Por que escolher a Grow?</h2>
            <div class="bg-white rounded-xl shadow-xl border border-gray-200 overflow-hidden">
                <div class="overflow-x-auto">
                    <table class="w-full text-left text-sm">
                        <thead class="bg-gray-50 border-b border-gray-200">
                            <tr>
                                <th class="px-6 py-4 font-semibold text-gray-900">Servi√ßo</th>
                                <th class="px-6 py-4 font-semibold text-gray-500">Problema Comum</th>
                                <th class="px-6 py-4 font-semibold text-grow-dark">Impacto Grow</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-gray-100">
                            <tr class="hover:bg-gray-50 transition-colors">
                                <td class="px-6 py-4 font-medium text-gray-900">Contas a Pagar</td>
                                <td class="px-6 py-4 text-gray-500">Perda de tempo e multas.</td>
                                <td class="px-6 py-4 text-grow-light font-medium">‚ú® Mais Foco (Zero Burocracia)</td>
                            </tr>
                            <tr class="hover:bg-gray-50 transition-colors">
                                <td class="px-6 py-4 font-medium text-gray-900">CMV Semanal</td>
                                <td class="px-6 py-4 text-gray-500">Desperd√≠cio notado tarde demais.</td>
                                <td class="px-6 py-4 text-grow-light font-medium">üõ°Ô∏è Mais Controle (Corre√ß√£o R√°pida)</td>
                            </tr>
                            <tr class="hover:bg-gray-50 transition-colors">
                                <td class="px-6 py-4 font-medium text-gray-900">DRE Mensal</td>
                                <td class="px-6 py-4 text-gray-500">Lucro desconhecido.</td>
                                <td class="px-6 py-4 text-grow-light font-medium">üìà Mais Lucratividade (Vis√£o Clara)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- CTA Section -->
        <section id="cta" class="bg-grow-dark rounded-2xl p-8 md:p-12 text-center text-white shadow-xl">
            <h2 class="text-3xl font-bold mb-4">Vamos transformar seus n√∫meros?</h2>
            <p class="text-gray-300 max-w-2xl mx-auto mb-8 text-lg">
                Investir na gest√£o Grow √© investir em tempo, controle e lucratividade. 
                Vamos agendar 15 minutos para entender suas necessidades?
            </p>
            
            <div class="flex flex-col sm:flex-row justify-center gap-4">
                <!-- LINK AGORA APONTA PARA O GOOGLE CALENDAR -->
                <a href="https://calendar.app.google/VnnEm7puzSnKbc1A8" target="_blank" class="flex items-center justify-center bg-grow-light hover:bg-grow-light/80 text-grow-dark font-bold py-3 px-8 rounded-lg transition-transform transform hover:scale-105 shadow-lg">
                    Agendar Reuni√£o de 15 min
                </a>
                <!-- BOT√ÉO WHATSAPP com a nova mensagem pr√©-definida -->
                <a href="https://wa.me/61982194715?text=Gostaria%20de%20conhecer%20as%20solu%C3%A7%C3%B5es%20da%20Grow%20BPO%20e%20aumentar%20o%20lucro%20do%20meu%20restaurante." target="_blank" class="flex items-center justify-center bg-transparent border-2 border-grow-light text-white font-bold py-3 px-8 rounded-lg transition-colors hover:bg-grow-light hover:text-grow-dark">
                    Falar no WhatsApp
                </a>
            </div>
            
            <div class="mt-8 pt-8 border-t border-gray-700 text-sm text-gray-400">
                <p>Grow BPO Financeiro - Especialistas em Restaurantes</p>
            </div>
        </section>

    </main>

    <!-- JavaScript for Logic and Charts -->
    <script>
        // --- Gemini API Configuration ---
        const apiKey = ""; 
        const GEMINI_API_URL = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;

        // State Management
        let currentTab = 'daily';
        let dailyChartInstance = null;
        let weeklyChartInstance = null;
        let monthlyChartInstance = null;
        
        // Utility for Exponential Backoff
        async function fetchWithBackoff(url, options, maxRetries = 5, delay = 1000) {
            for (let i = 0; i < maxRetries; i++) {
                try {
                    const response = await fetch(url, options);
                    if (response.status !== 429 && response.ok) {
                        return response;
                    }
                    if (response.status === 429) {
                        await new Promise(resolve => setTimeout(resolve, delay));
                        delay *= 2; // Exponential increase
                    } else {
                        throw new Error(`API Error: ${response.statusText}`);
                    }
                } catch (error) {
                    if (i === maxRetries - 1) throw error;
                    await new Promise(resolve => setTimeout(resolve, delay));
                    delay *= 2;
                }
            }
            throw new Error("Maximum retries reached.");
        }

        // --- LLM Feature: Corrective Actions Generator ---
        async function generateCorrectiveActions() {
            const resultsDiv = document.getElementById('actionResults');
            const button = document.getElementById('generateActionBtn');
            const cmvValue = '40%'; 

            button.disabled = true;
            button.innerText = 'Gerando A√ß√µes... ‚è≥';
            resultsDiv.innerHTML = '<p class="text-sm text-gray-500 italic">Analisando o CMV e buscando solu√ß√µes...</p>';

            const systemPrompt = "Aja como um analista s√™nior de BPO financeiro especializado em restaurantes no Brasil. Seu objetivo √© fornecer a√ß√µes corretivas imediatas e altamente espec√≠ficas que um dono de restaurante pode implementar em uma semana. Mantenha a resposta focada e concisa, estritamente em portugu√™s, apresentando uma lista de no m√°ximo 3 pontos.";
            const userQuery = `Meu Custo de Mercadoria Vendida (CMV) est√° em ${cmvValue}, o que √© muito alto para um restaurante. Sugira 3 a√ß√µes corretivas imediatas e muito espec√≠ficas que posso implementar em uma semana para reduzir essa porcentagem.`;
            
            const payload = {
                contents: [{ parts: [{ text: userQuery }] }],
                systemInstruction: {
                    parts: [{ text: systemPrompt }]
                },
            };

            try {
                const response = await fetchWithBackoff(GEMINI_API_URL, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                const result = await response.json();
                const text = result.candidates?.[0]?.content?.parts?.[0]?.text || "N√£o foi poss√≠vel gerar a an√°lise. Tente novamente.";
                
                // Format the response text (assuming it returns a list)
                const formattedText = text.split('\n').map(line => {
                    if (line.trim().startsWith('*') || line.trim().startsWith('-') || line.trim().startsWith('1.') || line.trim().startsWith('2.')) {
                        return `<li class="flex items-start mb-2"><span class="text-grow-light mr-2 text-lg">‚Ä¢</span><span class="text-gray-700 text-left">${line.substring(2).trim()}</span></li>`;
                    }
                    return line;
                }).join('');

                resultsDiv.innerHTML = `<ul class="list-none p-0 m-0">${formattedText}</ul>`;

            } catch (error) {
                resultsDiv.innerHTML = `<p class="text-sm text-red-500">Erro na simula√ß√£o: ${error.message}.</p>`;
            } finally {
                button.disabled = false;
                button.innerText = 'Gerar A√ß√µes Corretivas para CMV Alto (40%) ‚ú®';
            }
        }

        // --- Navigation Logic ---
        function switchTab(tabId) {
            // Update State
            currentTab = tabId;

            // Update UI Styling (Tabs)
            document.querySelectorAll('button[id^="tab-"]').forEach(btn => {
                btn.classList.remove('active-tab');
                btn.classList.add('inactive-tab');
            });
            document.getElementById(`tab-${tabId}`).classList.add('active-tab');
            document.getElementById(`tab-${tabId}`).classList.remove('inactive-tab');

            // Update Content Visibility
            document.getElementById('content-daily').classList.add('hidden');
            document.getElementById('content-weekly').classList.add('hidden');
            document.getElementById('content-monthly').classList.add('hidden');
            
            const contentEl = document.getElementById(`content-${tabId}`);
            contentEl.classList.remove('hidden');

            // Render/Refresh Charts based on visibility
            if (tabId === 'daily') renderDailyChart();
            if (tabId === 'weekly') renderWeeklyChart();
            if (tabId === 'monthly') renderMonthlyChart();
        }

        function scrollToCTA() {
            document.getElementById('cta').scrollIntoView({ behavior: 'smooth' });
        }

        // --- Chart 1: Daily (Workload Comparison) ---
        function renderDailyChart() {
            const ctx = document.getElementById('dailyChart').getContext('2d');
            
            if (dailyChartInstance) dailyChartInstance.destroy();

            dailyChartInstance = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Organiza√ß√£o', 'Pagamentos', 'Concilia√ß√£o', 'Relat√≥rios'],
                    datasets: [
                        {
                            label: 'Horas Gastas (Voc√™)',
                            data: [5, 4, 3, 2],
                            backgroundColor: '#9CA3AF', // Gray (neutral/before)
                            borderRadius: 4
                        },
                        {
                            label: 'Horas Gastas (Com Grow)',
                            data: [0.5, 0, 0, 0.5], // Dramatic reduction
                            backgroundColor: '#22ADE4', // Grow Light Blue (After/Positive)
                            borderRadius: 4
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'bottom' },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.dataset.label + ': ' + context.raw + 'h/semana';
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: { display: true, text: 'Horas por Semana' }
                        }
                    }
                }
            });
        }

        // --- Chart 2: Weekly (CMV Correction Curve) ---
        function renderWeeklyChart() {
            const ctx = document.getElementById('weeklyChart').getContext('2d');
            
            if (weeklyChartInstance) weeklyChartInstance.destroy();

            // Data represents cumulative loss due to inefficiency
            // Without Grow: Loss accumulates steadily
            // With Grow: Loss starts, is detected in Week 2, corrected in Week 3 (curve flattens)
            
            weeklyChartInstance = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Semana 1', 'Semana 2', 'Semana 3', 'Semana 4'],
                    datasets: [
                        {
                            label: 'Sem Controle Semanal',
                            data: [1000, 2500, 4500, 7000], // Loss accumulates
                            borderColor: '#DC2626', // Red (Negative)
                            backgroundColor: 'rgba(220, 38, 38, 0.1)',
                            fill: true,
                            tension: 0.4
                        },
                        {
                            label: 'Com Grow (A√ß√£o Corretiva)',
                            data: [1000, 2500, 2800, 3100], // Correction happens after week 2
                            borderColor: '#22ADE4', // Grow Light Blue (Positive Intervention)
                            borderDash: [5, 5],
                            tension: 0.4,
                            pointRadius: 6,
                            pointHoverRadius: 8
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    interaction: {
                        mode: 'index',
                        intersect: false,
                    },
                    plugins: {
                        legend: { position: 'bottom' },
                        tooltip: {
                            callbacks: {
                                footer: function(tooltipItems) {
                                    if (tooltipItems[0].dataIndex === 2) {
                                        return '‚ö° Interven√ß√£o Grow: Corre√ß√£o de compras/estoque.';
                                    }
                                }
                            }
                        },
                        annotation: {
                            // Note: Annotation plugin not loaded, using tooltip logic instead for simplicity within single file
                        }
                    },
                    scales: {
                        y: {
                            title: { display: true, text: 'Custo Extra Acumulado (R$)' }
                        }
                    }
                }
            });
        }

        function updateWeeklyChart() {
            // Animation/Re-render trigger to highlight the difference
            if(weeklyChartInstance) {
                weeklyChartInstance.reset();
                weeklyChartInstance.update();
            }
        }

        // --- Chart 3: Monthly (DRE Composition) ---
        function renderMonthlyChart() {
            const ctx = document.getElementById('monthlyChart').getContext('2d');
            
            if (monthlyChartInstance) monthlyChartInstance.destroy();

            monthlyChartInstance = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['CMV (Custo Mercadoria)', 'Custos Operacionais', 'Despesas Fixas', 'Lucro L√≠quido Real'],
                    datasets: [{
                        data: [32, 25, 28, 15], // Typical Healthy Restaurant Split
                        backgroundColor: [
                            '#212752', // Grow Dark Navy (High Cost)
                            '#6366F1', // Indigo (Ops)
                            '#9CA3AF', // Gray (Fixed)
                            '#22ADE4'  // Grow Light Blue (Profit/Positive)
                        ],
                        borderWidth: 0,
                        hoverOffset: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    onClick: (e, elements) => {
                        if (elements.length > 0) {
                            const index = elements[0].index;
                            const texts = [
                                "CMV: Onde o dinheiro vaza. A Grow monitora isso semanalmente.",
                                "Operacional: Taxas de cart√£o, delivery, impostos.",
                                "Fixo: Aluguel, equipe, software. Previsibilidade √© chave.",
                                "Lucro: O que realmente sobra. A Grow ajuda a aumentar essa fatia."
                            ];
                            document.getElementById('dre-detail').innerText = texts[index];
                            document.getElementById('dre-detail').classList.add('text-gray-900');
                        }
                    },
                    plugins: {
                        legend: { position: 'right' },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.label + ': ' + context.raw + '%';
                                }
                            }
                        }
                    }
                }
            });
        }

        // Initialize App
        window.addEventListener('DOMContentLoaded', () => {
            renderDailyChart(); // Initial Load
        });

    </script>
</body>
</html>
